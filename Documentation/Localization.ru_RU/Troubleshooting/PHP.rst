.. include:: /Includes.rst.txt

.. index:: php requirements, php, windows, opcode cache

.. _php:

PHP
===

.. _php-modules:

Отсутствующие модули PHP
-------------------

Раздел "Системное окружение" / "System Environment" программы установки Install Tool содержит подробную информацию об отсутствующих модулях PHP и других параметрах, которые могут быть настроены неверно.

Например, должны быть включены PHP-расширения openssl и fileinfo. Для этого необходимо добавить (или раскомментировать) следующие строки в разделе [PHP] файла :file:`php.ini`:

.. code-block:: none
   :caption: php.ini

   extension=fileinfo.so
   extension=openssl.so

На сервере под управлением Windows это файлы расширения:

.. code-block:: none
   :caption: php.ini

   extension=php_fileinfo.dll
   extension=php_openssl.dll


.. _php-caches-extension-classes-etc:

Кэши PHP, классы расширений и т. д.
----------------------------------

В некоторых ситуациях после обновления могут возникать нелогичные на первый взгляд проблемы:

- Если расширения переопределяют классы, в которых изменены функции. Решение: Попробуйте отключить все расширения, а затем включать их по очереди до тех пор, пока ошибка не повторится.

- Если PHP-кэш каким-либо образом не может перекэшировать скрипты: в частности, если изменился родительский класс, переопределенный дочерним классом, который не был обновлен. Решение: Удалите ВСЕ кэшированные PHP-файлы (для PHP-Accelerator удалите :file:`/tmp/phpa_*`) и перезапустите Apache.


.. _php-troubleshooting_opcode:

Сообщения кэша Opcode
---------------------

No PHP opcode cache loaded
~~~~~~~~~~~~~~~~~~~~~~~~~~

У вас не установлена и не активирована система кэширования opcode. Для повышения производительности сайта необходимо использовать эту систему. Лучшим выбором является OPcache.

This opcode cache is marked as malfunctioning by the TYPO3 CMS Team.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Сообщение будет показано, если найдена и активирована система кэширования opcode, которая, как известно, имеет "слишком много" ошибок и не будет поддерживаться TYPO3 CMS (никаких исправлений, решений по безопасности или чего-либо еще). В текущих версиях TYPO3 поддерживается только OPcache.

This opcode cache may work correctly but has medium performance.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Информация об этом появится, если будет найдена и активирована система кэширования opcode, которая имеет некоторые недостатки. Например, мы не можем очистить кэш для одного файла (который мы изменили), а можно сбросить только весь кэш. Это произойдет при:

-  OPcache до версии 7.0.2 (не должно быть в природе).
-  APC до версии 3.1.1 и некоторые загадочные комбинации настроек.
-  XCache.
-  ZendOptimizerPlus.

This opcode cache should work correctly and has good performance.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Похоже, что все в порядке и работает. Возможно, вы можете подправить что-то еще, но это не входит в круг наших знаний о вашем варианте настроек.
