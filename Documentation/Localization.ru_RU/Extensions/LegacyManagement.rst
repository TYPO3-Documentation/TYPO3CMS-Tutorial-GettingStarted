.. include:: /Includes.rst.txt

.. _extensions_legacy_management:

==================================
Управление расширениями - традиционное руководство
==================================

Установка расширения с помощью менеджера расширений
===================================================

Во внутреннем интерфейсе:

.. rst-class:: bignums

1. Перейдите в модуль :guilabel:`"Инструменты управления" > "Расширения"` / :guilabel:`"ADMIN TOOLS" > "Extensions"`
2. Вверху выберете :guilabel:`"Получить расширения"` / :guilabel:`"Get Extensions"`
3. Щелкните :guilabel:`"Обновить"` / :guilabel:`"Update now"`

   Кнопка вверху справа

4. Введите название расширения в поле поиска
5. Щелкните :guilabel:`"Вперед"` / :guilabel:`"Go"`
6. Щелкните по значку действий слева от названия расширения:

   :guilabel:`"Импортировать и установить"` / :guilabel:`"Import and Install"`

   Теперь расширение установлено, но не активировано. Чтобы активировать:

7. Выберете :guilabel:`"Установленные расширения"` / :guilabel:`"Installed Extensions"` сверху.
8. Щелкните по значку :guilabel:`"+"` напротив расширения в строке :guilabel:`"A/D"`.

.. _uninstall_extension_without_composer:

Удаление расширения без использования Composer
=======================================

Если TYPO3 установлен через composer, то необходимо удалять расширения через composer.

Проверка зависимостей
------------------

Сначала выясните, какие другие расширения и функции вашей установки TYPO3 зависят от расширения, которое вы хотите удалить. Узнать о зависимостях можно, обратившись к `Extension Repository <https://extensions.typo3.org/>`__. Найдите расширение, которое вы хотите удалить, и другие, которые вы установили. Прочитайте в руководстве по каждому расширению разделы 'Dependencies' и 'Reverse dependencies'.

Проверьте, были ли сделаны ссылки на расширение в каких-либо файлах установки, конфигурации или других файлах TypoScript. Проверьте, не включили ли вы в свой сайт подключаемый модуль из этого расширения. Подумайте о результатах их удаления и, наконец, сделайте это.

Если вы работаете локально или на тестовом сервере, можно попробовать удалить расширение. Менеджер расширений предупреждает о зависимостях, прописанных в секции ограничений расширения :file:`ext_emconf.php`. Заметим, однако, что вы зависите от того, насколько добросовестно разработчики расширений отмечают все зависимости в этом конфигурационном файле.

Если вы получаете исключение и из-за этого не можете получить доступ к Менеджеру расширений, то в крайнем случае можно удалить/установить расширения вручную с помощью :file:`PackageStates.php`, см. :ref:`uninstall-extension-manually`.

.. tip::
   Не удаляйте расширения методом проб и ошибок на рабочих системах, особенно в условиях дефицита времени.

.. _uninstall-extension-backend:

Деинсталляция / деактивация расширения через внутренний интерфейс TYPO3
--------------------------------------------------

.. include:: ../Images/AutomaticScreenshots/ExtensionManager/UninstallExtension.rst.txt


Войдите во внутренний интерфейс TYPO3 и откройте менеджер расширений ('Ext Manager'). В меню выберите пункт 'Install extensions' ("Установить расширения"). Будет выведен список установленных расширений.

С левой стороны находится значок, показывающий статус каждого расширения и то, что можно сделать:

* Значок установки расширения со знаком плюс: Расширение не установлено (щелкните один раз, для установки).
* Значок удаления расширения со знаком минус: Расширение установлено и его можно запускать (щелкните один раз, для удаления).

Рядом с расширением, которое необходимо удалить, щелкните на значке Extension UnInstall. Через несколько секунд значок изменится на серый значок установки расширения.


.. _remove-extension-backend:

Удаление расширения через внутренний интерфейс TYPO3
--------------------------------------------------

После успешной деинсталляции расширения через Менеджер расширений можно удалить его навсегда, нажав на символ корзины "Удалить" рядом с записью расширения в Менеджере расширений.

.. _uninstall-extension-manually:

Деинсталяция расширения вручную
----------------------------------

Иногда расширение вызывает проблему, из-за которой внутренний интерфейс TYPO3 не может быть открыт. В этом случае расширение можно удалить вручную. Это не совсем обычная практика, а крайняя мера.

Начиная с LTS8 сделать это можно, удалив конфигурацию расширений из файла :file:`PackageStates.php`.

.. rst-class:: bignums

#. Откройте файл :file:`typo3conf/PackageStates.php`
#. Найдите расширение по ext_key в массиве.

   .. code-block:: php
      :caption: typo3conf/PackageStates.php

      'ext_key' => [
            'packagePath' => 'typo3conf/ext/ext_key/',
        ],
      ...

#. Удалите это вхождение.

.. _remove-extension-manually:

Удаление расширения вручную
------------------------------
Удаление расширений вручную не является обычной практикой и должно выполняться только в крайнем случае. Удалять следует только то расширение, которое было успешно деинсталлировано. Сначала сделайте резервную копию. Затем можно удалить расширение навсегда, удалив его папку в :file:`typo3conf/ext/[extensionname]`. Соответствующие таблицы базы данных можно удалить в :guilabel:`Install Tool -> Important Actions -> Database analyzer -> Compare current database with specification`.

Дополнительная информация
======================

Приведенные ниже сведения не зависят от того, выполняется ли установка с Composer или без него.

.. _find-out-extension-key:

Поиск ключа расширения для расширения
-------------------------------------------

Опять же, зайдите в `Репозиторий расширений <https://extensions.typo3.org/>`__ и найдите расширение.

Ключ расширения указан сверху. Для `расширения news <https://extensions.typo3.org/extension/news/>`__ ключом расширения является `news`.

Ключ расширения можно также увидеть в файловой системе в каталоге :file:`public/typo3conf/ext/`. Имя каталога расширения совпадает с именем ключа расширения.
